{% extends 'boutique/base.html' %}

{% block content %}

{% for category in categories %}
{% if category.item_set.count > 0 %}
<!-- if there's no items in this category, skip to the next category -->

<div class=" mt-5 text-center">
    <h4 class="border-bottom">{{category}}</h4>

    {% if category.subcategory_set.count > 0 %}
    <!-- when this category has subcategories -->

    <div class="container px-2">
        {% for subcategory in category.subcategory_set.all %}
        {% if subcategory.item_set.count > 0 %}
        <!-- if there's no items under this subcategory, skip to the next subcategory -->

        <h6 class="mt-3 border-bottom border-light">{{subcategory.name}}</h6>
        <div class="row">
            {% for item in subcategory.item_set.all %}

            {% include 'boutique/include/item_in_items.html' %}

            {% endfor %}
        </div>

        {% endif %}
        {% endfor %}
    </div>

    {% else %}
    <!-- when this category does not have a subcategory -->

    <div class="row">
        {% for item in category.item_set.all %}

        {% include 'boutique/include/item_in_items.html' %}

        {% endfor %}
    </div>

    {% endif %}

</div>

{% endif %}
{% endfor %}

{% endblock content %}